<%- include('../partials/header') %>

<div class="container py-5">
  <h2 class="text-center text-primary mb-4">Available Job Openings</h2>

  <% if (jobs.length === 0) { %>
    <p class="text-muted text-center">No jobs posted yet.</p>
  <% } else { %>
    <div class="row g-4">
      <% jobs.forEach(job => { %>
        <div class="col-md-6 col-lg-4">
          <div class="card h-100 shadow-sm border-0 job-card animate-fade-in">
            <div class="card-body d-flex flex-column">
              <h5 class="card-title text-primary mb-2"><%= job.title %></h5>
              <p class="text-muted small mb-2">
                <span class="badge bg-secondary me-2"><%= job.discipline || 'General' %></span>
                <span class="badge bg-info text-dark"><%= job.location %></span>
              </p>
              <p class="card-text flex-grow-1">
                <%= job.qualifications.length > 100 ? job.qualifications.slice(0, 100) + '...' : job.qualifications %>
              </p>
              <p class="text-muted small mb-2">Deadline: <%= job.deadline.toDateString() %></p>
              <a href="/apply/<%= job._id %>" class="btn btn-outline-primary mt-auto">Apply Now</a>
            </div>
          </div>
        </div>
      <% }) %>
    </div>
  <% } %>
</div>

<%- include('../partials/footer') %>
